# Linux中的软链接和硬链接

## 引入

**软链接（符号链接）：**

软链接，又称为符号链接，是一种特殊类型的文件，它包含的是另一个文件或目录的路径引用。这意味着软链接只是指向另一个文件的路径，并不是文件本身的另一个副本。

**硬链接：**

硬链接是文件系统中的一个目录条目，它指向文件的存储位置。在Linux中，所有文件名实际上都是硬链接。当你为一个文件创建硬链接时，你在创建一个新的文件名，它指向文件数据的同样位置。

## 两者的使用场景

**使用软链接的场景：**

1. **跨文件系统链接**：当你需要链接到另一个文件系统中的文件或目录时，必须使用软链接，因为硬链接不支持跨文件系统。
2. **指向目录**：如果你需要创建指向另一个目录的链接，你应该使用软链接，因为大多数Unix-like系统不允许对目录创建硬链接。
3. **临时链接**：当你打算创建一个临时链接，它在未来可能会指向另一个位置，软链接会更方便，因为软链接可以轻松地被删除或重新指向另一个目标，而不影响原始文件。
4. **明确的链接标示**：软链接在ls命令的输出中会被明确地表示出来，并在路径名后附加一个箭头，从而能够让用户清楚地知道这是一个链接。

**使用硬链接的场景：**

1. **存储效率**：硬链接不需要额外的空间来存储文件路径，因为它们指向的是文件系统中的inode（索引节点），所以在存储受限的环境中使用硬链接可能会更加高效。
2. **备份和同步**：在某些备份场景中，硬链接常被用于有效地创建文件的历史版本，因为硬链接指向的是文件数据本身，即使原始文件名被删除，只要有一个硬链接仍然存在，数据就不会丢失。
3. **文件的不变性**：当你希望文件内容即使在相应的文件名被删除后仍然可访问时，硬链接很有用。这可以用于需要保证数据可访问性的场景。
4. **保证引用的文件不会变动**：由于软链接指向路径，如果目标移动或删除，软链接就会失效。但硬链接直接指向数据，因此，任何时候只要链接存在，数据就能被访问。
5. **不允许“断裂”的链接**：如果你需要保证链接不会无效，硬链接是更好的选择，因为硬链接确保了即使原始文件名被更改或移动，链接仍然有效。