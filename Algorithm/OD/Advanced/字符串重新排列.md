# 字符串重新排列

## 题目描述

给定一个字符串s，s包括以空格分隔的若干个单词，请对s进行如下处理后输出：
1、单词内部调整：对每个单词字母重新按字典序排序
2、单词间顺序调整：
1）统计每个单词出现的次数，并按次数降序排列2）次数相同，按单词长度升序排列
3）次数和单词长度均相同，按字典升序排列请输出处理后的字符串，每个单词以一个空格分隔。
输入描述：
一行字符串，每个字符取值范围：【a-ZA-Z0-9】以及空格，字符串长度范围：【1，1，1000】
例1：
输入
This is an apple
输出
an is This aelpp
例2：
输入：
My sister is in the house not in the yard
输出：
in in eht eht My is not adry ehosu eirsst

## 解题思路

1：题目还是比较简单的，直接两步排序即可，需要细心的地方有两个
A：就是排序是降序还是升序。
B：输出的时候要输出单词原有的个数。

## 代码

```c++
// Online C++ compiler to run C++ program online
#include<iostream>
#include<vector>
#include<algorithm>
#include<iomanip>
#include<string>
#include<exception> 
#include<map>
using namespace std;
 
bool comp(pair<string, int> a, pair<string, int> b) {
    //次数降序、长度升序、字典序排列升序
    if (a.second > b.second) {
        return true;
    } else if(a.second == b.second) {
        if (a.first.size() > b.first.size()) {
            return false;
        } else if (a.first.size() == b.first.size()) {
            return a.first < b.first;
        } else {
            return true;
        }
    } else {
        return false;
    }
}
 
int main() {
    string input_str;
    // 带空格的字符串输入
    getline(cin,input_str);
    
    //空格分割
    vector<string> v;
    while (input_str.find(" ") != string::npos) {
        int found = input_str.find(" ");
        v.push_back(input_str.substr(0, found));
        input_str = input_str.substr(found + 1);
    }    
    v.push_back(input_str);
    
    //第一步，单词内部调整
    for (int i=0;i<v.size();i++) {
        sort(v[i].begin(), v[i].end());
    }
 
    //第二步，单词间调整
    //先统计每个单词出现的次数
    map<string, int> str_count;
    for (int i=0;i<v.size();i++) {
        if (str_count.count(v[i])) {
            str_count[v[i]] += 1;
        } else {
            str_count[v[i]] = 1;
        }
    }
 
    // 排序
    vector<pair<string, int>> str_count_vec;
    for (auto x : str_count) {
        str_count_vec.push_back(x);
    }
    sort(str_count_vec.begin(), str_count_vec.end(), comp);
 
    for (int i=0;i<str_count_vec.size();i++) {
        for (int j=0;j<str_count[str_count_vec[i].first];j++) {
            cout << str_count_vec[i].first << " ";
        }
    }
    return 0;
}
```

