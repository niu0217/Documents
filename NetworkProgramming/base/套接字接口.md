# 套接字接口

## 非常非常重要！

套接字接口是一组函数，它们和Unix I/O函数结合起来，用以创建网络应用。大多数现代系统上都实现了套接字接口，包括所有的Unix变种、Windows和Macintosh系统。

![image-20240316222728326](套接字接口.assets/image-20240316222728326.png) 

## 1. 套接字地址结构

![image-20240316223150259](套接字接口.assets/image-20240316223150259.png) 

## 2. socket函数

![image-20240316223350521](套接字接口.assets/image-20240316223350521.png) 

## 3. connect函数

![image-20240316223449687](套接字接口.assets/image-20240316223449687.png) 

## 4. bind函数

![image-20240316223658406](套接字接口.assets/image-20240316223658406.png) 

## 5. listen函数

![image-20240316223757268](套接字接口.assets/image-20240316223757268.png) 

## 6. accept函数

![image-20240316223932837](套接字接口.assets/image-20240316223932837.png) 

## 7. 主机和服务的转换

![image-20240316225542886](套接字接口.assets/image-20240316225542886.png) 

### 7.1 getaddrinfo

![image-20240316225702585](套接字接口.assets/image-20240316225702585.png) 

![image-20240316225955174](套接字接口.assets/image-20240316225955174.png) 

### 7.2 getnameinfo

![image-20240316230121682](套接字接口.assets/image-20240316230121682.png) 

![image-20240316230213335](套接字接口.assets/image-20240316230213335.png) 

### 7.3 示例程序

需要的文件：

+ [csapp.c](https://github.com/niu0217/Documents/blob/main/NetworkProgramming/base/code/csapp.c)

+ [csapp.h](https://github.com/niu0217/Documents/blob/main/NetworkProgramming/base/code/csapp.h)

+ [hostinfo.c](https://github.com/niu0217/Documents/blob/main/NetworkProgramming/base/code/hostinfo.c)

编译：

```bash
gcc -g -o hostinfo hostinfo.c csapp.c -lpthread
```

运行：

```bash
ubuntu@niu0217:~/GithubFile/Documents/NetWorkProgramming$ ./hostinfo twitter.com
104.244.42.65
104.244.42.1
104.244.42.129
104.244.42.193
```



