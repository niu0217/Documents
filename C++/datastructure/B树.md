# B树

## 1. 问题

## 2. 外部资料

算法可视化网址：https://www.cs.usfca.edu/~galles/visualization/Algorithms.html

https://www.bilibili.com/video/BV13o4y1t7Ti/?spm_id_from=333.337.search-card.all.click&vd_source=c6838f09fbfc9766e04f0c65ca196c42

https://www.bilibili.com/video/BV1mY4y1W7pS/?spm_id_from=333.337.search-card.all.click&vd_source=c6838f09fbfc9766e04f0c65ca196c42

## 3. 基础知识

### 3.1 简单介绍

B树（B-Tree）是一种自平衡的树数据结构，尤其适用于外存储设备（如磁盘）上的大量数据存储和检索。其基本知识点包括：

1. **定义**：在B树中，每个节点可以有多个子节点，且节点可以存储多个键值及对应的指针。它的特点是所有叶子节点在同一层，且每个节点都维持着某个固定的“阶”（degree），即最多有多少个孩子。

2. **特性**：
   - 每个节点最多包含m个孩子，最少是⌈m/2⌉（其中m为树的阶）。
   - 除了根节点和叶子节点外，其它每个节点至少有⌈m/2⌉个孩子。
   - 如果一个节点有n个孩子，则它有n-1个关键字。
   - 所有的叶子节点都在同一层，且不包含任何信息（也可以存储数据或者指向数据的指针）。
   - 关键字是有序的，且分割相邻孩子的边界。

3. **查找、插入、删除操作**：在B树上进行查找、插入和删除操作时，通过关键字在节点内部进行比较和移动，能够保持相对较少的I/O次数，大大提高了在外部存储器上进行数据访问的效率。

4. **应用**：数据库系统和文件系统广泛使用B树及其变种（如B+树、B*树等）来管理索引，使得即使在海量数据的情况下也能快速定位到需要的数据。

5. **优势**：B树的主要优势在于减少磁盘I/O操作，因为一次磁盘I/O可能读取多个节点的关键字和子节点指针，使得搜索过程能以较为连续的方式进行，有效利用了磁盘预读功能。

### 3.2 为什么引入B树

从磁盘查找数据效率低，一般是什么原因？

+ 影响IO效率的因素：

  + 读写数据越大速度越慢

  + 读写次数越多速度越慢





